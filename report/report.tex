% vim: fo=aw2tq tw=100 spell

% Set document style
\documentclass[10pt,twoside,openright]{report}
\setlength{\parskip}{0.5\baselineskip}
\renewcommand{\chaptername}{Part}

\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{2}

% Flag for whether or not this is the wordcount version
\newif\ifnotwc\notwctrue

% Necessary packages
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\renewcommand*\ttdefault{txtt}

\usepackage{listings}
\usepackage{shortvrb}

\ifnotwc
\usepackage[pdftex]{color,graphicx}

\usepackage[pdftex]{hyperref}
\hypersetup{colorlinks=true,
    colorlinks=true,
    citecolor=black,
    urlcolor=black,
    linkcolor=black,
    pagecolor=black,
    anchorcolor=black
}
\fi

\usepackage{comment}
\usepackage{ulem}

% Allow EPS graphics - remember to run pdflatex with -shell-escape
\usepackage{epstopdf}
\DeclareGraphicsRule{.eps}{pdf}{.pdf}{`epstopdf #1}

% Use "foo" for short verbatim
\MakeShortVerb{\"}

% Define a listings language for h180
\lstdefinelanguage{h180}{
    keywordsprefix=.,
    keywords={add,adc,and,cp,cpl,dec,inc,mlt,neg,or,sub,sbc,tst,xor,rl,rla,rlc,rlca,rr,rra,rrc,
rrca,rld,rrd,sla,sra,srl,set,res,bit,ld,cpd,cpdr,cpi,cpir,ldd,lddr,ldi,ldir,push,pop,ex,exx,call,
djnz,jp,jr,ret,reti,retn,rst,in,in0,ind,indr,ini,inir,out,out0,otdm,otdmr,otdr,outi,otir,tstio,otim,
otimr,outd,daa,ccf,scf,di,ei,halt,im,nop,slp},
    sensitive=false,
    comment=[l]{\#},
}
% Define the h180 environment
\lstnewenvironment{h180}{\lstset{language=h180}}{}
% Define the global listing style
\lstset{lineskip=-1pt, basicstyle=\small\ttfamily, frame=lines, framerule=0.2pt}

% Add to-do items
\newcommand{\todo}[1]{{\color{red}\uline{#1}}}

% Lets get rid of some things if we're wordcounting
\ifnotwc
\includecomment{nowordcount}
\else
\usepackage{xcomment}
\excludecomment{nowordcount}
\fi


% Document info
\title{Microcomputer Communications Project (MCP)}
\author{Examination number: Y2265520}
% TODO: Lab partner's examination number!!!
\date{1234 words}

\begin{document}

% Keep the front matter out of the wordcount
\ifnotwc

% Title page
\maketitle

\newpage

\pagenumbering{roman}
% Table of Contents
{\setlength{\parskip}{0.2\baselineskip}
    \tableofcontents
}

\fi % ifnotwc

\newpage
\pagenumbering{arabic}

% Include all the sections
\include{introduction}
\include{functional_overview}
\include{design_and_implementation}
\include{testing_and_evaluation}
\include{technical_specification}
\include{further_work}

% Don't want the end matter getting in the way of my word count!!!
\ifnotwc

\appendix

\chapter{Circuit diagram}
\begin{center}
\label{appendix:circuit_diagram}
\includegraphics[width=0.95\textwidth]{images/output-schematic}
\end{center}

\pagebreak
\begin{thebibliography}{99}
% \bibitem{ref}Author:
% \emph{Title},
% \url{http://} (year)

\bibitem{lm386}National Semiconductor:
\emph{LM386 Low Voltage Audio Power Amplifier}
\url{http://www.national.com/ds.cgi/LM/LM386.pdf} (2000)

\bibitem{dac0832}National Semiconductor:
\emph{DAC0830/DAC0832 8-bit $\mu$P Compatible, Double-Buffered D to A Converters}, 
\url{http://www.national.com/ads-cgi/viewer.pl/ds/DA/DAC0830.pdf} (2002)

\bibitem{lf356}National Semiconductor:
\emph{LF155/LF156/LF256/LF257/LF355/LF356/LF357 JFET Input Operational Amplifiers},
\url{http://www.national.com/ds.cgi/LF/LF155.pdf} (2001)

\end{thebibliography}

\fi % ifnotwc

\end{document}
